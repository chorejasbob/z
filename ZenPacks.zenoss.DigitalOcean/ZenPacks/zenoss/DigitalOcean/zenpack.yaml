name: ZenPacks.zenoss.DigitalOcean

zProperties:
  DEFAULTS:
    category: Digital Ocean
  
  zDigitalOceanApiEndpoint:
    description: "Only use this if you need to specify an endpoint other than the default.  https://api.digitalocean.com/v2/"
    type: string
    default: "https://api.digitalocean.com/v2/"

  zDigitalOceanToken:
    description: "api token for accessing your Digital Ocean account."
    type: string

classes:
  DEFAULTS:
    base: [zenpacklib.Component]

  DigitalOceanEndpoint:
    base: [zenpacklib.Device]
    label: Digital Ocean Endpoint

  Droplet:
    label: Droplet

    properties:
      droplet_id:
        label: Droplet ID

      vcpus:
        label: VCPUs

      memory:
        label: Memory GB

      disk:
        label: Disk GB

      image:
        label: Image

      ip_address:
        label: Public IP

      private_ip_address:
        label: Private IP

      region:
        label: Region
      
      backups:
        label: Backups enabled

      price_hourly:
        label: Price Hourly

      price_montly:
        label: Price Monthly

      created_at:
        label: Created

class_relationships:
  - DigitalOceanEndpoint 1:MC Droplet

device_classes:
  /DigitalOcean:
    zProperties:
      zPythonClass: ZenPacks.zenoss.DigitalOcean.DigitalOceanEndpoint
      zPingMonitorIgnore: true
      zSnmpMonitorIgnore: true
      zCollectorPlugins:
        - DigitalOcean.Droplets
